{%- comment -%}
  These values are now hardcoded since snippets cannot have settings.
{%- endcomment -%}
{%- assign phone_number = '918980462440' -%}
{%- assign message = "Hi! I want to connect the support team for details" -%}
{%- assign show_on_desktop = true -%}
{%- assign show_on_mobile = true -%}
{%- assign enable_button = true -%}

{%- comment -%}
  Only show the button if it's enabled and a phone number is set
{%- endcomment -%}
{%- if enable_button and phone_number != blank -%}
  {%- comment -%}
    Build the WhatsApp URL and encode the message
  {%- endcomment -%}
  {%- assign encoded_message = message | url_encode -%}
  {%- assign whatsapp_url = "https://wa.me/" | append: phone_number | append: "?text=" | append: encoded_message -%}

  <style>
    .whatsapp-floating-button {
      position: fixed;
      bottom: 25px;
      right: 25px;
      width: 60px;
      height: 60px;
      background-color: #25D366; /* Official WhatsApp Green */
      color: #FFF;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .whatsapp-floating-button:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
    }

    .whatsapp-floating-button svg {
      width: 32px;
      height: 32px;
      fill: currentColor;
    }

    /* Logic to show/hide on mobile */
    {% unless show_on_mobile %}
      @media (max-width: 749px) {
        .whatsapp-floating-button {
          display: none;
        }
      }
    {% endunless %}

    /* Logic to show/hide on desktop */
    {% unless show_on_desktop %}
      @media (min-width: 750px) {
        .whatsapp-floating-button {
          display: none;
        }
      }
    {% endunless %}
  </style>

  <a
    href="{{ whatsapp_url }}"
    class="whatsapp-floating-button"
    target="_blank"
    rel="noopener"
    aria-label="Chat with us on WhatsApp"
  >
    {%- comment -%}
      This is an inline SVG for the WhatsApp icon.
      It's better than an image because it loads instantly.
    {%- endcomment -%}
    <svg viewBox="0 0 90 90">
      <path d="M90,43.841c0,24.213-19.779,43.841-44.182,43.841c-7.747,0-15.025-1.98-21.357-5.455L0,90l7.975-23.522   c-4.023-6.606-6.34-14.354-6.34-22.637C1.635,19.628,21.416,0,45.818,0C70.223,0,90,19.628,90,43.841z M45.818,6.982   c-20.484,0-37.146,16.535-37.146,36.859c0,8.065,2.629,15.534,7.076,21.61L11.107,79.14l14.275-4.537   c5.865,3.851,12.891,6.097,20.437,6.097c20.481,0,37.146-16.533,37.146-36.857C82.964,23.518,66.302,6.982,45.818,6.982z    M68.129,53.938c-0.273-0.447-0.994-0.714-2.076-1.254c-1.084-0.54-6.418-3.13-7.412-3.495c-0.994-0.364-1.717-0.54-2.438,0.54   c-0.721,1.076-2.797,3.495-3.43,4.212c-0.632,0.719-1.263,0.801-2.347,0.261c-1.084-0.54-4.571-1.673-8.708-5.333   c-3.219-2.848-5.393-6.364-6.025-7.441c-0.631-1.075-0.066-1.656,0.475-2.191c0.488-0.482,1.084-1.255,1.625-1.881   c0.54-0.628,0.721-1.075,1.084-1.807c0.363-0.717,0.182-1.344-0.09-1.883c-0.273-0.54-2.438-5.825-3.34-8.001   c-0.877-2.102-1.764-1.792-2.438-1.792c-0.652,0-1.375,0-2.096,0c-0.721,0-1.896,0.273-2.89,1.354   c-0.994,1.078-3.789,3.676-3.789,8.963c0,5.288,3.879,10.397,4.422,11.113c0.541,0.716,7.497,11.92,18.5,16.223   C58.2,65.771,58.2,64.336,60.186,64.156c1.984-0.179,6.418-2.592,7.324-5.104C68.402,56.537,68.402,54.386,68.129,53.938z"/>
    </svg>
  </a>
{%- endif -%}


